<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô MR.2/1</title>

<style>
body{
    margin:0;
    padding:20px;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
    transition:background .25s,color .25s;
}
:root{
    --bg:#fff;--text:#000;--sub:#555;--card:#f4f4f4;--btn:#ff3b30;--border:#ddd;
}
.dark{
    --bg:#000;--text:#fff;--sub:#aaa;--card:#111;--btn:#ff453a;--border:#333;
}
body{background:var(--bg);color:var(--text);}h2{text-align:center;margin:10px 0 5px;color:var(--btn);font-weight:700;}
#time{text-align:center;color:var(--sub);font-size:14px;margin-bottom:15px;}
#modeToggle{position:absolute;top:12px;right:12px;padding:8px 13px;font-size:13px;background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:10px;}
button.main-btn{width:100%;padding:15px;margin:8px 0;font-size:16px;font-weight:600;border:none;border-radius:14px;background:var(--btn);color:#fff;transition:.2s;}button.main-btn:active{transform:scale(.97);opacity:.85;}
#resultBox{margin-top:18px;padding:18px;border-radius:16px;background:var(--card);border:1px solid var(--border);white-space:pre-line;font-size:15px;line-height:1.55;}

/* ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏û‡∏•‡∏∏ */
.heart{position:fixed;bottom:0;font-size:20px;animation:fly 2s linear forwards;}@keyframes fly{0%{transform:translateY(0) scale(1);opacity:1;}100%{transform:translateY(-600px) scale(2);opacity:0;}}
</style>
</head>
<body>
<button id="modeToggle" onclick="toggleMode()">üåó</button>
<h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏õ‡∏ß‡∏ä.2/1</h2>
<div id="time"></div>

<button class="main-btn" onclick="currentClass()">üìå ‡∏Ñ‡∏≤‡∏ö‡∏ô‡∏µ‡πâ</button>
<button class="main-btn" onclick="nextClass()">‚û°Ô∏è ‡∏Ñ‡∏≤‡∏ö‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
<button class="main-btn" onclick="breakTime()">‚òï ‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å</button>
<button class="main-btn" onclick="loveMeena()">‚ù§Ô∏è ‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏î</button>

<div id="resultBox">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>

<script>
function toggleMode(){document.body.classList.toggle("dark");localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light");}
if(localStorage.getItem("theme")==="dark")document.body.classList.add("dark");

function thaiTime(){const d=new Date();const days=["‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå","‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå","‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£","‡∏û‡∏∏‡∏ò","‡∏û‡∏§‡∏´‡∏±‡∏™","‡∏®‡∏∏‡∏Å‡∏£‡πå","‡πÄ‡∏™‡∏≤‡∏£‡πå"];return `${days[d.getDay()]} - ${d.toLocaleDateString("th-TH")} - ${d.toLocaleTimeString("th-TH")}`;}
setInterval(()=>time.innerText=thaiTime(),1000);

const schedule={
2:[{start:"08:40",end:"11:10",name:"‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏≠‡∏≤‡∏ä‡∏µ‡∏û (EDL)",room:"1051"},{start:"12:50",end:"14:30",name:"‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏≠‡∏≤‡∏ä‡∏µ‡∏û (EDL)",room:"1053"},{start:"14:30",end:"16:10",name:"‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°",room:"1221"}],
3:[{start:"08:40",end:"11:10",name:"‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤",room:"642"},{start:"12:00",end:"13:40",name:"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û 1",room:"432"},{start:"14:30",end:"16:10",name:"‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏≠‡∏≤‡∏ä‡∏µ‡∏û (EDL)",room:"1051"}],
4:[{start:"08:40",end:"10:20",name:"‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏ó‡∏¢",room:"1221"},{start:"12:50",end:"16:10",name:"‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô",room:"424"}],
5:[{start:"08:40",end:"11:10",name:"‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•",room:"544"},{start:"14:30",end:"16:10",name:"‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏≠‡∏≤‡∏ä‡∏µ‡∏û (EDL)",room:"1051"}],
6:[{start:"08:40",end:"10:20",name:"‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô",room:"223"},{start:"12:50",end:"16:10",name:"‡∏£‡∏∞‡∏ö‡∏ö IOT-AL Net",room:"1323"}]
};

function toMin(t){let[h,m]=t.split(":" );return +h*60+ +m;}function nowMin(){let d=new Date();return d.getHours()*60+d.getMinutes();}
let timer=null;
function countdown(targetMin,text){clearInterval(timer);timer=setInterval(()=>{let now=nowMin();let diff=targetMin-now;if(diff<=0){clearInterval(timer);return;}let h=Math.floor(diff/60),m=diff%60;resultBox.innerHTML=text+`\n\n‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å ${h} ‡∏ä‡∏°. ${m} ‡∏ô‡∏≤‡∏ó‡∏µ`;},1000);}

function findNextDay(d){for(let i=1;i<=7;i++){let nd=(d+i)%7;if(schedule[nd])return nd;}}
function show(t){clearInterval(timer);resultBox.innerText=t;}

function currentClass(){const d=new Date().getDay(),n=nowMin();if(!schedule[d])return nextAvailableDay("‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô");for(const c of schedule[d]){if(n>=toMin(c.start)&&n<toMin(c.end)){countdown(toMin(c.end),`üìå ‡∏Ñ‡∏≤‡∏ö‡∏ô‡∏µ‡πâ\n‡∏ß‡∏¥‡∏ä‡∏≤: ${c.name}\n‡∏´‡πâ‡∏≠‡∏á: ${c.room}\n‡πÄ‡∏ß‡∏•‡∏≤ ${c.start} - ${c.end}`);return;}}show("‚è≥ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≤‡∏ö‡∏ß‡πà‡∏≤‡∏á");}

function nextClass(){const d=new Date().getDay(),n=nowMin();if(!schedule[d])return nextAvailableDay("‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô");for(const c of schedule[d]){if(toMin(c.start)>n){countdown(toMin(c.start),`‚û°Ô∏è ‡∏Ñ‡∏≤‡∏ö‡∏ï‡πà‡∏≠‡πÑ‡∏õ\n‡∏ß‡∏¥‡∏ä‡∏≤: ${c.name}\n‡∏´‡πâ‡∏≠‡∏á: ${c.room}\n‡πÄ‡∏ß‡∏•‡∏≤ ${c.start} - ${c.end}`);return;}}nextAvailableDay("‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß");}

function breakTime(){const d=new Date().getDay(),n=nowMin();if(!schedule[d])return nextAvailableDay("‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô");let day=schedule[d];
let freeSlots=[];
let schoolStart=toMin("08:40"),schoolEnd=toMin("16:10");
let last=schoolStart;
day.forEach(c=>{let s=toMin(c.start);if(s>last)freeSlots.push([last,s]);last=toMin(c.end);});if(last<schoolEnd)freeSlots.push([last,schoolEnd]);
for(let slot of freeSlots){if(n>=slot[0]&&n<slot[1]){let mins=(slot[1]-slot[0]);let freeCount=freeSlots.length;countdown(slot[1],`‚òï ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å\n‡∏û‡∏±‡∏Å ${Math.floor(mins/60)} ‡∏ä‡∏°. ${mins%60} ‡∏ô‡∏≤‡∏ó‡∏µ\n\nüìå ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${freeCount} ‡∏ä‡πà‡∏ß‡∏á`);return;}}
show("‚ùå ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å");}

function nextAvailableDay(msg){let d=new Date().getDay();let next=findNextDay(d);let first=schedule[next][0];let target=toMin(first.start)+(next-d)*1440;countdown(target,`${msg}\n\n‚û°Ô∏è ‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤ ${first.name}\n‡∏´‡πâ‡∏≠‡∏á ${first.room}\n‡πÄ‡∏£‡∏¥‡πà‡∏° ${first.start}`);}

function loveMeena(){resultBox.innerHTML="";for(let i=0;i<50;i++)resultBox.innerHTML+=`‡∏£‡∏±‡∏Å‡∏°‡∏µ‡∏ô‡∏≤‡∏°‡∏≤‡∏Å‡πÜ ‚ù§Ô∏è (${i+1})\n`;
for(let i=0;i<20;i++){let h=document.createElement("div");h.className="heart";h.innerText="üíñ";h.style.left=Math.random()*100+"vw";document.body.appendChild(h);setTimeout(()=>h.remove(),2000);} }
</script>
</body></html>
